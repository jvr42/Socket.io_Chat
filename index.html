<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>This is a simple chat!!!</title>
    </head>
    <body>
        <input type="text" id="mensaje">
        <input type="button" id="enviar" value="Enviar">
        <div id="mensajes"></div>
    </body>
</html>

<script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
    // create socket for client.
    var socket = io.connect('http://localhost');

    // set click event handler for button
    $('#enviar').click(function(){
        // retrive value from text input
        var mensaje = $('#mensaje').val();
            socket.emit('news', { mensaje:  mensaje});
        $('#mensaje').val("");
        $('#mensajes').append($('<p>').text(mensaje));
    });

    socket.on('response', function (data) {
      $('#mensajes').append($('<p>').text(data));
    });
</script>
